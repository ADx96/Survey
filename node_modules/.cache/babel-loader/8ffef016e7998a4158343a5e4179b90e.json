{"ast":null,"code":"import _asyncToGenerator from\"/Users/abood/Desktop/SurveyApp/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"/Users/abood/Desktop/SurveyApp/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/abood/Desktop/SurveyApp/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/abood/Desktop/SurveyApp/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/Users/abood/Desktop/SurveyApp/node_modules/@babel/runtime/regenerator/index.js\";import React,{useState,useEffect}from\"react\";import Form from\"react-bootstrap/Form\";import{observer}from\"mobx-react\";import\"../Styles/SurveyForm.css\";import Button from\"react-bootstrap/Button\";import surveyStore from\"../Mobx/SurveyStore\";import{useNavigate}from\"react-router-dom\";import Alert from\"react-bootstrap/Alert\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SurveyForm=function SurveyForm(){var navigate=useNavigate();var _useState=useState({QuestionID:1,Answer:\"\"}),_useState2=_slicedToArray(_useState,2),Q1=_useState2[0],setQ1=_useState2[1];var _useState3=useState({QuestionID:2,Answer:\"\",TransactionID:0}),_useState4=_slicedToArray(_useState3,2),Q2=_useState4[0],setQ2=_useState4[1];var _useState5=useState({QuestionID:3,Answer:\"\",TransactionID:0}),_useState6=_slicedToArray(_useState5,2),Q3=_useState6[0],setQ3=_useState6[1];var _useState7=useState({QuestionID:4,Answer:\"\",TransactionID:0}),_useState8=_slicedToArray(_useState7,2),Q4=_useState8[0],setQ4=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),alert=_useState10[0],setAlert=_useState10[1];var _useState11=useState({Remarks:\"\",MobileNo:\"\",TransactionID:0}),_useState12=_slicedToArray(_useState11,2),Remarks=_useState12[0],setRemarks=_useState12[1];var handleRemarks=function handleRemarks(e){setRemarks(_objectSpread(_objectSpread({},Remarks),{},_defineProperty({},e.target.name,e.target.value)));};var handleQ1=function handleQ1(e){setQ1(_objectSpread(_objectSpread({},Q1),{},{Answer:e.target.value}));};var handleQ2=function handleQ2(e){setQ2(_objectSpread(_objectSpread({},Q2),{},{Answer:e.target.value}));};var handleQ3=function handleQ3(e){setQ3(_objectSpread(_objectSpread({},Q3),{},{Answer:e.target.value}));};var handleQ4=function handleQ4(e){setQ4(_objectSpread(_objectSpread({},Q4),{},{Answer:e.target.value}));};useEffect(function(){function fetchData(){return _fetchData.apply(this,arguments);}function _fetchData(){_fetchData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return surveyStore.GetQuestion();case 2:case\"end\":return _context.stop();}}},_callee);}));return _fetchData.apply(this,arguments);}fetchData();},[]);if(surveyStore.isLoading){return/*#__PURE__*/_jsx(_Fragment,{});}Q1.QuestionID=surveyStore.Questions[0].PKID;var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(e){var ID,_ID;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:e.preventDefault();if(!(Q1.Answer!==\"\"&&Q2.Answer!==\"\"&&Q3.Answer!==\"\"&&Q4.Answer!==\"\")){_context2.next=35;break;}if(!(Q1.Answer===\"Poor\"||Q2.Answer===\"Poor\"||Q3.Answer===\"Poor\"||Q4.Answer===\"Poor\")){_context2.next=20;break;}_context2.next=5;return surveyStore.SubmitQ1(Q1);case 5:ID=surveyStore.Questions[0].ID;Q2.TransactionID=ID;Q3.TransactionID=ID;Q4.TransactionID=ID;Remarks.TransactionID=ID;_context2.next=12;return surveyStore.SubmitOther(Q2);case 12:_context2.next=14;return surveyStore.SubmitOther(Q3);case 14:_context2.next=16;return surveyStore.SubmitOther(Q4);case 16:_context2.next=18;return surveyStore.SendRemarks(Remarks);case 18:_context2.next=32;break;case 20:_context2.next=22;return surveyStore.SubmitQ1(Q1);case 22:_ID=surveyStore.Questions[0].ID;Q2.TransactionID=_ID;Q3.TransactionID=_ID;Q4.TransactionID=_ID;_context2.next=28;return surveyStore.SubmitOther(Q2);case 28:_context2.next=30;return surveyStore.SubmitOther(Q3);case 30:_context2.next=32;return surveyStore.SubmitOther(Q4);case 32:navigate(\"/ThankYouPage\");_context2.next=37;break;case 35:setAlert(true);setTimeout(function(){setAlert(false);},5000);case 37:case\"end\":return _context2.stop();}}},_callee2);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{id:\"con\",className:\"container\",children:[/*#__PURE__*/_jsx(\"header\",{className:\"header-title\",children:/*#__PURE__*/_jsx(\"h1\",{className:\"heading\",children:\"Customer Satisfaction Survey\"})}),/*#__PURE__*/_jsxs(\"section\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"title\",children:surveyStore.Questions[0].Question_En}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-check\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"form-check-input\",type:\"radio\",value:\"Excellent\",onChange:handleQ1,name:\"Answer\",id:\"flexRadioDefault1\"}),/*#__PURE__*/_jsx(\"label\",{className:\"form-check-label\",htmlFor:\"flexRadioDefault1\",children:\"Excellent\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-check\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"form-check-input\",type:\"radio\",name:\"Answer\",value:\"Good\",onChange:handleQ1,id:\"flexRadioDefault2\"}),/*#__PURE__*/_jsx(\"label\",{className:\"form-check-label\",htmlFor:\"flexRadioDefault2\",children:\"Good\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-check\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"form-check-input\",onChange:handleQ1,type:\"radio\",value:\"Average\",name:\"Answer\",id:\"flexRadioDefault3\"}),/*#__PURE__*/_jsx(\"label\",{className:\"form-check-label\",htmlFor:\"flexRadioDefault3\",children:\"Average\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-check\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"form-check-input\",onChange:handleQ1,type:\"radio\",value:\"Poor\",name:\"Answer\",id:\"flexRadioDefault4\"}),/*#__PURE__*/_jsx(\"label\",{className:\"form-check-label\",htmlFor:\"flexRadioDefault4\",children:\"Poor\"})]})]}),/*#__PURE__*/_jsx(\"h2\",{className:\"title\",children:surveyStore.Questions[1].Question_En}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-check\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"form-check-input\",type:\"radio\",onChange:handleQ2,value:\"Excellent\",name:\"Answer2\",id:\"flexRadioDefault5\"}),/*#__PURE__*/_jsx(\"label\",{className:\"form-check-label\",htmlFor:\"flexRadioDefault5\",children:\"Excellent\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-check\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"form-check-input\",type:\"radio\",name:\"Answer2\",onChange:handleQ2,value:\"Good\",id:\"flexRadioDefault6\"}),/*#__PURE__*/_jsx(\"label\",{className:\"form-check-label\",htmlFor:\"flexRadioDefault6\",children:\"Good\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-check\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"form-check-input\",type:\"radio\",name:\"Answer2\",onChange:handleQ2,value:\"Average\",id:\"flexRadioDefault7\"}),/*#__PURE__*/_jsx(\"label\",{className:\"form-check-label\",htmlFor:\"flexRadioDefault7\",children:\"Average\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-check\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"form-check-input\",type:\"radio\",value:\"Poor\",name:\"Answer2\",onChange:handleQ2,id:\"flexRadioDefault8\"}),/*#__PURE__*/_jsx(\"label\",{className:\"form-check-label\",htmlFor:\"flexRadioDefault8\",children:\"Poor\"})]})]}),/*#__PURE__*/_jsx(\"h2\",{className:\"title\",children:surveyStore.Questions[2].Question_En}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-check\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"form-check-input\",type:\"radio\",value:\"Excellent\",name:\"Answer3\",onChange:handleQ3,id:\"flexRadioDefault1\"}),/*#__PURE__*/_jsx(\"label\",{className:\"form-check-label\",htmlFor:\"flexRadioDefault1\",children:\"Excellent\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-check\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"form-check-input\",type:\"radio\",value:\"Good\",name:\"Answer3\",onChange:handleQ3,id:\"flexRadioDefault2\"}),/*#__PURE__*/_jsx(\"label\",{className:\"form-check-label\",htmlFor:\"flexRadioDefault2\",children:\"Good\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-check\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"form-check-input\",type:\"radio\",name:\"Answer3\",onChange:handleQ3,value:\"Average\",id:\"flexRadioDefault3\"}),/*#__PURE__*/_jsx(\"label\",{className:\"form-check-label\",htmlFor:\"flexRadioDefault3\",children:\"Average\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-check\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"form-check-input\",type:\"radio\",value:\"Poor\",name:\"Answer3\",onChange:handleQ3,id:\"flexRadioDefault3\"}),/*#__PURE__*/_jsx(\"label\",{className:\"form-check-label\",htmlFor:\"flexRadioDefault3\",children:\"Poor\"})]})]}),/*#__PURE__*/_jsx(\"h2\",{className:\"title\",children:surveyStore.Questions[3].Question_En}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-check\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"form-check-input\",type:\"radio\",name:\"Answer4\",onChange:handleQ4,value:\"Excellent\",id:\"flexRadioDefault11\"}),/*#__PURE__*/_jsx(\"label\",{className:\"form-check-label\",htmlFor:\"flexRadioDefault11\",children:\"Excellent\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-check\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"form-check-input\",type:\"radio\",value:\"Good\",name:\"Answer4\",onChange:handleQ4,id:\"flexRadioDefault12\"}),/*#__PURE__*/_jsx(\"label\",{className:\"form-check-label\",htmlFor:\"flexRadioDefault12\",children:\"Good\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-check\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"form-check-input\",type:\"radio\",value:\"Average\",name:\"Answer4\",onChange:handleQ4,id:\"flexRadioDefault13\"}),/*#__PURE__*/_jsx(\"label\",{className:\"form-check-label\",htmlFor:\"flexRadioDefault13\",children:\"Average\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-check\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"form-check-input\",type:\"radio\",value:\"Poor\",name:\"Answer4\",onChange:handleQ4,id:\"flexRadioDefault14\"}),/*#__PURE__*/_jsx(\"label\",{className:\"form-check-label\",htmlFor:\"flexRadioDefault14\",children:\"Poor\"})]})]})]})]}),Q1.Answer===\"Poor\"||Q2.Answer===\"Poor\"||Q3.Answer===\"Poor\"||Q4.Answer===\"Poor\"?/*#__PURE__*/_jsxs(\"div\",{className:\"container\",id:\"div134\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"exampleFormControlTextarea1\",children:\"Remarks\"}),/*#__PURE__*/_jsx(\"textarea\",{onChange:handleRemarks,required:true,className:\"form-control\",id:\"exampleFormControlTextarea1\",name:\"Remarks\",rows:3})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:\"30px\"},children:[/*#__PURE__*/_jsx(Form.Label,{htmlFor:\"inputPassword5\",children:\"Mobile\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"number\",onChange:handleRemarks,name:\"MobileNo\",required:true,id:\"inputPassword5\",\"aria-describedby\":\"passwordHelpBlock\"})]})]}):/*#__PURE__*/_jsx(_Fragment,{}),/*#__PURE__*/_jsx(\"div\",{className:\"sumbit-div\",children:/*#__PURE__*/_jsx(Button,{type:\"submit\",className:\"submit\",variant:\"primary\",children:\"Submit Survey\"})})]}),alert===true?/*#__PURE__*/_jsx(Alert,{variant:\"danger\",children:\"Please select all fields\"}):/*#__PURE__*/_jsx(_Fragment,{})]});};export default observer(SurveyForm);","map":{"version":3,"sources":["/Users/abood/Desktop/SurveyApp/src/Components/SurveyForm.tsx"],"names":["React","useState","useEffect","Form","observer","Button","surveyStore","useNavigate","Alert","SurveyForm","navigate","QuestionID","Answer","Q1","setQ1","TransactionID","Q2","setQ2","Q3","setQ3","Q4","setQ4","alert","setAlert","Remarks","MobileNo","setRemarks","handleRemarks","e","target","name","value","handleQ1","handleQ2","handleQ3","handleQ4","fetchData","GetQuestion","isLoading","Questions","PKID","handleSubmit","preventDefault","SubmitQ1","ID","SubmitOther","SendRemarks","setTimeout","Question_En","marginTop"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport Form from \"react-bootstrap/Form\";\nimport { observer } from \"mobx-react\";\nimport \"../Styles/SurveyForm.css\";\nimport Button from \"react-bootstrap/Button\";\nimport surveyStore from \"../Mobx/SurveyStore\";\nimport { useNavigate } from \"react-router-dom\";\nimport Alert from \"react-bootstrap/Alert\";\n\ninterface RemarksProps {\n  Remarks: string;\n  MobileNo: string;\n  TransactionID: number;\n}\n\nconst SurveyForm: React.FC = () => {\n  const navigate = useNavigate();\n\n  const [Q1, setQ1] = useState({\n    QuestionID: 1,\n    Answer: \"\",\n  });\n\n  const [Q2, setQ2] = useState({\n    QuestionID: 2,\n    Answer: \"\",\n    TransactionID: 0,\n  });\n\n  const [Q3, setQ3] = useState({\n    QuestionID: 3,\n    Answer: \"\",\n    TransactionID: 0,\n  });\n\n  const [Q4, setQ4] = useState({\n    QuestionID: 4,\n    Answer: \"\",\n    TransactionID: 0,\n  });\n\n  const [alert, setAlert] = useState(false);\n\n  const [Remarks, setRemarks] = useState<RemarksProps>({\n    Remarks: \"\",\n    MobileNo: \"\",\n    TransactionID: 0,\n  });\n\n  const handleRemarks = (e: { target: { name: any; value: any } }) => {\n    setRemarks({ ...Remarks, [e.target.name]: e.target.value });\n  };\n\n  const handleQ1 = (e: { target: { value: string } }) => {\n    setQ1({ ...Q1, Answer: e.target.value });\n  };\n  const handleQ2 = (e: { target: { value: string } }) => {\n    setQ2({ ...Q2, Answer: e.target.value });\n  };\n  const handleQ3 = (e: { target: { value: string } }) => {\n    setQ3({ ...Q3, Answer: e.target.value });\n  };\n  const handleQ4 = (e: { target: { value: string } }) => {\n    setQ4({ ...Q4, Answer: e.target.value });\n  };\n\n  useEffect(() => {\n    async function fetchData() {\n      await surveyStore.GetQuestion();\n    }\n    fetchData();\n  }, []);\n\n  if (surveyStore.isLoading) {\n    return <></>;\n  }\n\n  Q1.QuestionID = surveyStore.Questions[0].PKID;\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    if (\n      Q1.Answer !== \"\" &&\n      Q2.Answer !== \"\" &&\n      Q3.Answer !== \"\" &&\n      Q4.Answer !== \"\"\n    ) {\n      if (\n        Q1.Answer === \"Poor\" ||\n        Q2.Answer === \"Poor\" ||\n        Q3.Answer === \"Poor\" ||\n        Q4.Answer === \"Poor\"\n      ) {\n        await surveyStore.SubmitQ1(Q1);\n        const ID = surveyStore.Questions[0].ID;\n        Q2.TransactionID = ID;\n        Q3.TransactionID = ID;\n        Q4.TransactionID = ID;\n        Remarks.TransactionID = ID;\n        await surveyStore.SubmitOther(Q2);\n        await surveyStore.SubmitOther(Q3);\n        await surveyStore.SubmitOther(Q4);\n        await surveyStore.SendRemarks(Remarks);\n      } else {\n        await surveyStore.SubmitQ1(Q1);\n        const ID = surveyStore.Questions[0].ID;\n        Q2.TransactionID = ID;\n        Q3.TransactionID = ID;\n        Q4.TransactionID = ID;\n        await surveyStore.SubmitOther(Q2);\n        await surveyStore.SubmitOther(Q3);\n        await surveyStore.SubmitOther(Q4);\n      }\n      navigate(\"/ThankYouPage\");\n    } else {\n      setAlert(true);\n      setTimeout(() => {\n        setAlert(false);\n      }, 5000);\n    }\n  };\n\n  return (\n    <>\n      <form onSubmit={handleSubmit}>\n        <div id=\"con\" className=\"container\">\n          <header className=\"header-title\">\n            <h1 className=\"heading\">Customer Satisfaction Survey</h1>\n          </header>\n          <section>\n            <h2 className=\"title\">{surveyStore.Questions[0].Question_En}</h2>\n            <div className=\"flex\">\n              <div className=\"form-check\">\n                <input\n                  className=\"form-check-input\"\n                  type=\"radio\"\n                  value=\"Excellent\"\n                  onChange={handleQ1}\n                  name=\"Answer\"\n                  id=\"flexRadioDefault1\"\n                />\n                <label className=\"form-check-label\" htmlFor=\"flexRadioDefault1\">\n                  Excellent\n                </label>\n              </div>\n              <div className=\"form-check\">\n                <input\n                  className=\"form-check-input\"\n                  type=\"radio\"\n                  name=\"Answer\"\n                  value=\"Good\"\n                  onChange={handleQ1}\n                  id=\"flexRadioDefault2\"\n                />\n                <label className=\"form-check-label\" htmlFor=\"flexRadioDefault2\">\n                  Good\n                </label>\n              </div>\n              <div className=\"form-check\">\n                <input\n                  className=\"form-check-input\"\n                  onChange={handleQ1}\n                  type=\"radio\"\n                  value=\"Average\"\n                  name=\"Answer\"\n                  id=\"flexRadioDefault3\"\n                />\n                <label className=\"form-check-label\" htmlFor=\"flexRadioDefault3\">\n                  Average\n                </label>\n              </div>\n              <div className=\"form-check\">\n                <input\n                  className=\"form-check-input\"\n                  onChange={handleQ1}\n                  type=\"radio\"\n                  value=\"Poor\"\n                  name=\"Answer\"\n                  id=\"flexRadioDefault4\"\n                />\n                <label className=\"form-check-label\" htmlFor=\"flexRadioDefault4\">\n                  Poor\n                </label>\n              </div>\n            </div>\n            <h2 className=\"title\">{surveyStore.Questions[1].Question_En}</h2>\n\n            <div className=\"flex\">\n              <div className=\"form-check\">\n                <input\n                  className=\"form-check-input\"\n                  type=\"radio\"\n                  onChange={handleQ2}\n                  value=\"Excellent\"\n                  name=\"Answer2\"\n                  id=\"flexRadioDefault5\"\n                />\n                <label className=\"form-check-label\" htmlFor=\"flexRadioDefault5\">\n                  Excellent\n                </label>\n              </div>\n              <div className=\"form-check\">\n                <input\n                  className=\"form-check-input\"\n                  type=\"radio\"\n                  name=\"Answer2\"\n                  onChange={handleQ2}\n                  value=\"Good\"\n                  id=\"flexRadioDefault6\"\n                />\n                <label className=\"form-check-label\" htmlFor=\"flexRadioDefault6\">\n                  Good\n                </label>\n              </div>\n              <div className=\"form-check\">\n                <input\n                  className=\"form-check-input\"\n                  type=\"radio\"\n                  name=\"Answer2\"\n                  onChange={handleQ2}\n                  value=\"Average\"\n                  id=\"flexRadioDefault7\"\n                />\n                <label className=\"form-check-label\" htmlFor=\"flexRadioDefault7\">\n                  Average\n                </label>\n              </div>\n              <div className=\"form-check\">\n                <input\n                  className=\"form-check-input\"\n                  type=\"radio\"\n                  value=\"Poor\"\n                  name=\"Answer2\"\n                  onChange={handleQ2}\n                  id=\"flexRadioDefault8\"\n                />\n                <label className=\"form-check-label\" htmlFor=\"flexRadioDefault8\">\n                  Poor\n                </label>\n              </div>\n            </div>\n            <h2 className=\"title\">{surveyStore.Questions[2].Question_En}</h2>\n\n            <div className=\"flex\">\n              <div className=\"form-check\">\n                <input\n                  className=\"form-check-input\"\n                  type=\"radio\"\n                  value=\"Excellent\"\n                  name=\"Answer3\"\n                  onChange={handleQ3}\n                  id=\"flexRadioDefault1\"\n                />\n                <label className=\"form-check-label\" htmlFor=\"flexRadioDefault1\">\n                  Excellent\n                </label>\n              </div>\n              <div className=\"form-check\">\n                <input\n                  className=\"form-check-input\"\n                  type=\"radio\"\n                  value=\"Good\"\n                  name=\"Answer3\"\n                  onChange={handleQ3}\n                  id=\"flexRadioDefault2\"\n                />\n                <label className=\"form-check-label\" htmlFor=\"flexRadioDefault2\">\n                  Good\n                </label>\n              </div>\n              <div className=\"form-check\">\n                <input\n                  className=\"form-check-input\"\n                  type=\"radio\"\n                  name=\"Answer3\"\n                  onChange={handleQ3}\n                  value=\"Average\"\n                  id=\"flexRadioDefault3\"\n                />\n                <label className=\"form-check-label\" htmlFor=\"flexRadioDefault3\">\n                  Average\n                </label>\n              </div>\n              <div className=\"form-check\">\n                <input\n                  className=\"form-check-input\"\n                  type=\"radio\"\n                  value=\"Poor\"\n                  name=\"Answer3\"\n                  onChange={handleQ3}\n                  id=\"flexRadioDefault3\"\n                />\n                <label className=\"form-check-label\" htmlFor=\"flexRadioDefault3\">\n                  Poor\n                </label>\n              </div>\n            </div>\n            <h2 className=\"title\">{surveyStore.Questions[3].Question_En}</h2>\n\n            <div className=\"flex\">\n              <div className=\"form-check\">\n                <input\n                  className=\"form-check-input\"\n                  type=\"radio\"\n                  name=\"Answer4\"\n                  onChange={handleQ4}\n                  value=\"Excellent\"\n                  id=\"flexRadioDefault11\"\n                />\n                <label\n                  className=\"form-check-label\"\n                  htmlFor=\"flexRadioDefault11\"\n                >\n                  Excellent\n                </label>\n              </div>\n              <div className=\"form-check\">\n                <input\n                  className=\"form-check-input\"\n                  type=\"radio\"\n                  value=\"Good\"\n                  name=\"Answer4\"\n                  onChange={handleQ4}\n                  id=\"flexRadioDefault12\"\n                />\n                <label\n                  className=\"form-check-label\"\n                  htmlFor=\"flexRadioDefault12\"\n                >\n                  Good\n                </label>\n              </div>\n              <div className=\"form-check\">\n                <input\n                  className=\"form-check-input\"\n                  type=\"radio\"\n                  value=\"Average\"\n                  name=\"Answer4\"\n                  onChange={handleQ4}\n                  id=\"flexRadioDefault13\"\n                />\n                <label\n                  className=\"form-check-label\"\n                  htmlFor=\"flexRadioDefault13\"\n                >\n                  Average\n                </label>\n              </div>\n              <div className=\"form-check\">\n                <input\n                  className=\"form-check-input\"\n                  type=\"radio\"\n                  value=\"Poor\"\n                  name=\"Answer4\"\n                  onChange={handleQ4}\n                  id=\"flexRadioDefault14\"\n                />\n                <label\n                  className=\"form-check-label\"\n                  htmlFor=\"flexRadioDefault14\"\n                >\n                  Poor\n                </label>\n              </div>\n            </div>\n          </section>\n        </div>\n        {Q1.Answer === \"Poor\" ||\n        Q2.Answer === \"Poor\" ||\n        Q3.Answer === \"Poor\" ||\n        Q4.Answer === \"Poor\" ? (\n          <div className=\"container\" id=\"div134\">\n            <div className=\"form-group\">\n              <label htmlFor=\"exampleFormControlTextarea1\">Remarks</label>\n              <textarea\n                onChange={handleRemarks}\n                required\n                className=\"form-control\"\n                id=\"exampleFormControlTextarea1\"\n                name=\"Remarks\"\n                rows={3}\n              ></textarea>\n            </div>\n            <div style={{ marginTop: \"30px\" }}>\n              <Form.Label htmlFor=\"inputPassword5\">Mobile</Form.Label>\n              <Form.Control\n                type=\"number\"\n                onChange={handleRemarks}\n                name=\"MobileNo\"\n                required\n                id=\"inputPassword5\"\n                aria-describedby=\"passwordHelpBlock\"\n              />\n            </div>\n          </div>\n        ) : (\n          <></>\n        )}\n        <div className=\"sumbit-div\">\n          <Button type=\"submit\" className=\"submit\" variant=\"primary\">\n            Submit Survey\n          </Button>\n        </div>\n      </form>\n      {alert === true ? (\n        <Alert variant={\"danger\"}>Please select all fields</Alert>\n      ) : (\n        <></>\n      )}\n    </>\n  );\n};\n\nexport default observer(SurveyForm);\n"]},"metadata":{},"sourceType":"module"}